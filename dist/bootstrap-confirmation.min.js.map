{"version":3,"sources":["../src/popover.js","../src/confirmation.js"],"names":["fn","popover","$","Constructor","VERSION","split","shift","Error","Popover","NAME","DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","BTN_CLASS_DEFAULT","DefaultType","_objectSpread","singleton","popout","copyAttributes","onConfirm","onCancel","btnOkClass","btnOkLabel","btnOkIconClass","btnOkIconContent","btnCancelClass","btnCancelLabel","btnCancelIconClass","btnCancelIconContent","buttons","Default","_attributes","_selector","placement","title","trigger","confirmationEvent","undefined","content","noop","template","whiteList","push","activeConfirmation","ClassName","Selector","Keymap","13","27","39","40","Event","HIDE","HIDDEN","SHOW","SHOWN","INSERTED","CLICK","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","CONFIRMED","CANCELED","KEYUP","Confirmation","element","config","_this","_Popover","call","this","rootSelector","_isDelegate","selector","_copyAttributes","_setConfirmationListeners","isWithContent","setContent","$tip","getTipElement","_getContent","setElementContent","find","getTitle","toggle","length","_setButtons","_setStandardButtons","removeClass","_setupKeyupEvent","dispose","off","uid","eventBody","_cleanKeyupEvent","prototype","hide","callback","_this2","forEach","attr","self","on","e","ack","preventDefault","stopPropagation","stopImmediatePropagation","not","filter","data","confirmation","id","getUID","is","target","has","class","label","iconClass","iconContent","cancel","$group","empty","button","btn","addClass","html","prepend","text","one","onClick","value","append","window","_onKeyup","bind","event","tip","$next","key","keyCode","which","$active","next","children","first","focus","prev","last","prefix","Math","random","document","getElementById","_jQueryInterface","each","_config","test","TypeError","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery';\nimport 'bootstrap';\n\nif (typeof $.fn.popover === 'undefined' || $.fn.popover.Constructor.VERSION.split('.').shift() !== '4') {\n  throw new Error('Bootstrap Confirmation 4 requires Bootstrap Popover 4');\n}\n\nconst Popover = $.fn.popover.Constructor;\n\nexport default Popover;\n","import $ from 'jquery';\nimport Popover from 'bootstrap/js/src/popover';\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'confirmation';\nconst VERSION = '$VERSION';\nconst DATA_KEY = `bs.${NAME}`;\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst JQUERY_NO_CONFLICT = $.fn[NAME];\nconst BTN_CLASS_BASE = 'h-100 d-flex align-items-center';\nconst BTN_CLASS_DEFAULT = 'btn btn-sm';\n\nconst DefaultType = {\n  ...Popover.DefaultType,\n  singleton           : 'boolean',\n  popout              : 'boolean',\n  copyAttributes      : '(string|array)',\n  onConfirm           : 'function',\n  onCancel            : 'function',\n  btnOkClass          : 'string',\n  btnOkLabel          : 'string',\n  btnOkIconClass      : 'string',\n  btnOkIconContent    : 'string',\n  btnCancelClass      : 'string',\n  btnCancelLabel      : 'string',\n  btnCancelIconClass  : 'string',\n  btnCancelIconContent: 'string',\n  buttons             : 'array',\n};\n\nconst Default = {\n  ...Popover.Default,\n  _attributes         : {},\n  _selector           : null,\n  placement           : 'top',\n  title               : 'Are you sure?',\n  trigger             : 'click',\n  confirmationEvent   : undefined,\n  content             : '',\n  singleton           : false,\n  popout              : false,\n  copyAttributes      : 'href target',\n  onConfirm           : $.noop,\n  onCancel            : $.noop,\n  btnOkClass          : `${BTN_CLASS_DEFAULT} btn-primary`,\n  btnOkLabel          : 'Yes',\n  btnOkIconClass      : '',\n  btnOkIconContent    : '',\n  btnCancelClass      : `${BTN_CLASS_DEFAULT} btn-secondary`,\n  btnCancelLabel      : 'No',\n  btnCancelIconClass  : '',\n  btnCancelIconContent: '',\n  buttons             : [],\n  // @formatter:off\n  template            : `\n<div class=\"popover-background\" style=\"background: rgba(0, 0, 0, 0.6); position: fixed; width: 100%; height: 100%;  top:0; left: 0;\">\n  <style>.popover-background { transform: none!important; will-change: unset; }</style>\n  <div class=\"popover confirmation\" style=\"position: absolute; top:35%; left: 50%; transform: translate(-50%, -50%);\">\n    <h3 class=\"popover-header\"></h3>\n    <div class=\"popover-body\">\n      <p class=\"confirmation-content\"></p>\n      <div class=\"confirmation-buttons text-center\">\n        <div class=\"btn-group\"></div>\n      </div>\n    </div>\n  </div>\n</div>`,\n  // @formatter:on\n};\n\nif (Default.whiteList) {\n  Default.whiteList['*'].push('data-apply', 'data-dismiss');\n}\n\nconst ClassName = {\n  FADE: 'fade',\n  SHOW: 'show',\n};\n\nconst Selector = {\n  TITLE  : '.popover-header',\n  CONTENT: '.confirmation-content',\n  BUTTONS: '.confirmation-buttons .btn-group',\n};\n\nconst Keymap = {\n  13: 'Enter',\n  27: 'Escape',\n  39: 'ArrowRight',\n  40: 'ArrowDown',\n};\n\nconst Event = {\n  HIDE      : `hide${EVENT_KEY}`,\n  HIDDEN    : `hidden${EVENT_KEY}`,\n  SHOW      : `show${EVENT_KEY}`,\n  SHOWN     : `shown${EVENT_KEY}`,\n  INSERTED  : `inserted${EVENT_KEY}`,\n  CLICK     : `click${EVENT_KEY}`,\n  FOCUSIN   : `focusin${EVENT_KEY}`,\n  FOCUSOUT  : `focusout${EVENT_KEY}`,\n  MOUSEENTER: `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE: `mouseleave${EVENT_KEY}`,\n  CONFIRMED : `confirmed${EVENT_KEY}`,\n  CANCELED  : `canceled${EVENT_KEY}`,\n  KEYUP     : `keyup${EVENT_KEY}`,\n};\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\n// keep track of the last openned confirmation for keyboard navigation\nlet activeConfirmation;\n\nclass Confirmation extends Popover {\n  // Getters\n\n  static get VERSION() {\n    return VERSION;\n  }\n\n  static get Default() {\n    return Default;\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  static get DATA_KEY() {\n    return DATA_KEY;\n  }\n\n  static get Event() {\n    return Event;\n  }\n\n  static get EVENT_KEY() {\n    return EVENT_KEY;\n  }\n\n  static get DefaultType() {\n    return DefaultType;\n  }\n\n  // Constructor\n\n  constructor(element, config) {\n    super(element, config);\n\n    if ((this.config.popout || this.config.singleton) && !this.config.rootSelector) {\n      throw new Error('The rootSelector option is required to use popout and singleton features since jQuery 3.');\n    }\n\n    // keep trace of selectors\n    this._isDelegate = false;\n\n    if (config.selector) { // container of buttons\n      config._selector = `${config.rootSelector} ${config.selector}`;\n      this.config._selector = config._selector;\n    }\n    else if (config._selector) { // children of container\n      this.config._selector = config._selector;\n      this._isDelegate = true;\n    }\n    else { // standalone\n      this.config._selector = config.rootSelector;\n    }\n\n    if (this.config.confirmationEvent === undefined) {\n      this.config.confirmationEvent = this.config.trigger;\n    }\n\n    if (!this.config.selector) {\n      this._copyAttributes();\n    }\n\n    this._setConfirmationListeners();\n  }\n\n  // Overrides\n\n  isWithContent() {\n    return true;\n  }\n\n  setContent() {\n    const $tip = $(this.getTipElement());\n    let content = this._getContent();\n\n    if (typeof content === 'function') {\n      content = content.call(this.element);\n    }\n\n    this.setElementContent($tip.find(Selector.TITLE), this.getTitle());\n\n    $tip.find(Selector.CONTENT).toggle(!!content);\n    if (content) {\n      this.setElementContent($tip.find(Selector.CONTENT), content);\n    }\n\n    if (this.config.buttons.length > 0) {\n      this._setButtons($tip, this.config.buttons);\n    }\n    else {\n      this._setStandardButtons($tip);\n    }\n\n    $tip.removeClass(`${ClassName.FADE} ${ClassName.SHOW}`);\n\n    this._setupKeyupEvent();\n  }\n\n  dispose() {\n    $('body').off(`${Event.CLICK}.${this.uid}`);\n    this.eventBody = false;\n    this._cleanKeyupEvent();\n    super.dispose();\n  }\n\n  hide(callback) {\n    this._cleanKeyupEvent();\n    super.hide(callback);\n  }\n\n  // Private\n\n  /**\n   * Copy the value of `copyAttributes` on the config object\n   * @private\n   */\n  _copyAttributes() {\n    this.config._attributes = {};\n    if (this.config.copyAttributes) {\n      if (typeof this.config.copyAttributes === 'string') {\n        this.config.copyAttributes = this.config.copyAttributes.split(' ');\n      }\n    }\n    else {\n      this.config.copyAttributes = [];\n    }\n\n    this.config.copyAttributes.forEach((attr) => {\n      this.config._attributes[attr] = $(this.element).attr(attr);\n    });\n  }\n\n  /**\n   * Custom event listeners for popouts and singletons\n   * @private\n   */\n  _setConfirmationListeners() {\n    const self = this;\n\n    if (!this.config.selector) {\n      // cancel original event\n      $(this.element).on(this.config.trigger, (e, ack) => {\n        if (!ack) {\n          e.preventDefault();\n          e.stopPropagation();\n          e.stopImmediatePropagation();\n        }\n      });\n\n      // manage singleton\n      $(this.element).on(Event.SHOWN, function () {\n        if (self.config.singleton) {\n          // close all other popover already initialized\n          $(self.config._selector).not($(this)).filter(function () {\n            return $(this).data(DATA_KEY) !== undefined;\n          }).confirmation('hide');\n        }\n      });\n    }\n    else {\n      // cancel original event\n      $(this.element).on(this.config.trigger, this.config.selector, (e, ack) => {\n        if (!ack) {\n          e.preventDefault();\n          e.stopPropagation();\n          e.stopImmediatePropagation();\n        }\n      });\n    }\n\n    if (!this._isDelegate) {\n      // manage popout\n      this.eventBody = false;\n      this.uid = this.element.id || Confirmation.getUID(`${NAME}_group`);\n\n      $(this.element).on(Event.SHOWN, () => {\n        if (self.config.popout && !self.eventBody) {\n          self.eventBody = $('body').on(`${Event.CLICK}.${self.uid}`, (e) => {\n            if ($(self.config._selector).is(e.target) || $(self.config._selector).has(e.target).length > 0) {\n              return;\n            }\n            // close all popover already initialized\n            $(self.config._selector).filter(function () {\n              return $(this).data(DATA_KEY) !== undefined;\n            }).confirmation('hide');\n\n            $('body').off(`${Event.CLICK}.${self.uid}`);\n            self.eventBody = false;\n          });\n        }\n      });\n    }\n  }\n\n  /**\n   * Init the standard ok/cancel buttons\n   * @param $tip\n   * @private\n   */\n  _setStandardButtons($tip) {\n    const buttons = [\n      {\n        class      : this.config.btnOkClass,\n        label      : this.config.btnOkLabel,\n        iconClass  : this.config.btnOkIconClass,\n        iconContent: this.config.btnOkIconContent,\n        attr       : this.config._attributes,\n      },\n      {\n        class      : this.config.btnCancelClass,\n        label      : this.config.btnCancelLabel,\n        iconClass  : this.config.btnCancelIconClass,\n        iconContent: this.config.btnCancelIconContent,\n        cancel     : true,\n      },\n    ];\n\n    this._setButtons($tip, buttons);\n  }\n\n  /**\n   * Init the buttons\n   * @param $tip\n   * @param buttons\n   * @private\n   */\n  _setButtons($tip, buttons) {\n    const self = this;\n    const $group = $tip.find(Selector.BUTTONS).empty();\n\n    buttons.forEach((button) => {\n      const btn = $('<a href=\"#\"></a>')\n        .addClass(BTN_CLASS_BASE)\n        .addClass(button.class || `${BTN_CLASS_DEFAULT} btn-secondary`)\n        .html(button.label || '')\n        .attr(button.attr || {});\n\n      if (button.iconClass || button.iconContent) {\n        btn.prepend($('<i></i>')\n          .addClass(button.iconClass || '')\n          .text(button.iconContent || ''));\n      }\n\n      btn.one('click', function (e) {\n        if ($(this).attr('href') === '#') {\n          e.preventDefault();\n        }\n\n        if (button.onClick) {\n          button.onClick.call($(self.element));\n        }\n\n        if (button.cancel) {\n          self.config.onCancel.call(self.element, button.value);\n          $(self.element).trigger(Event.CANCELED, [button.value]);\n        }\n        else {\n          self.config.onConfirm.call(self.element, button.value);\n          $(self.element).trigger(Event.CONFIRMED, [button.value]);\n          $(self.element).trigger(self.config.confirmationEvent, [true]);\n        }\n\n        self.hide();\n      });\n\n      $group.append(btn);\n    });\n  }\n\n  /**\n   * Install the keyboatd event handler\n   * @private\n   */\n  _setupKeyupEvent() {\n    activeConfirmation = this;\n    $(window)\n      .off(Event.KEYUP)\n      .on(Event.KEYUP, this._onKeyup.bind(this));\n  }\n\n  /**\n   * Remove the keyboard event handler\n   * @private\n   */\n  _cleanKeyupEvent() {\n    if (activeConfirmation === this) {\n      activeConfirmation = undefined;\n      $(window).off(Event.KEYUP);\n    }\n  }\n\n  /**\n   * Event handler for keyboard navigation\n   * @param event\n   * @private\n   */\n  _onKeyup(event) {\n    if (!this.tip) {\n      this._cleanKeyupEvent();\n      return;\n    }\n\n    const $tip = $(this.getTipElement());\n    const key = event.key || Keymap[event.keyCode || event.which];\n\n    const $group = $tip.find(Selector.BUTTONS);\n    const $active = $group.find('.active');\n    let $next;\n\n    switch (key) {\n      case 'Escape':\n        this.hide();\n        break;\n\n      case 'ArrowRight':\n        if ($active.length && $active.next().length) {\n          $next = $active.next();\n        }\n        else {\n          $next = $group.children().first();\n        }\n        $active.removeClass('active');\n        $next.addClass('active').focus();\n        break;\n\n      case 'ArrowLeft':\n        if ($active.length && $active.prev().length) {\n          $next = $active.prev();\n        }\n        else {\n          $next = $group.children().last();\n        }\n        $active.removeClass('active');\n        $next.addClass('active').focus();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  // Static\n\n  /**\n   * Generates an uui, copied from Bootrap's utils\n   * @param {string} prefix\n   * @returns {string}\n   */\n  static getUID(prefix) {\n    let uid = prefix;\n    do {\n      // eslint-disable-next-line no-bitwise\n      uid += ~~(Math.random() * 1000000); // \"~~\" acts like a faster Math.floor() here\n    } while (document.getElementById(uid));\n    return uid;\n  }\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY);\n\n      const _config = typeof config === 'object' ? config : {};\n      _config.rootSelector = $(this).selector || _config.rootSelector; // this.selector removed in jQuery > 3\n\n      if (!data && /destroy|hide/.test(config)) {\n        return;\n      }\n\n      if (!data) {\n        data = new Confirmation(this, _config);\n        $(this).data(DATA_KEY, data);\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      }\n    });\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Confirmation._jQueryInterface;\n$.fn[NAME].Constructor = Confirmation;\n$.fn[NAME].noConflict = function () {\n  $.fn[NAME] = JQUERY_NO_CONFLICT;\n  return Confirmation._jQueryInterface;\n};\n\nexport default Confirmation;\n"]}